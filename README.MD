# SavePoint - Sistema de Cadastro para Ludoteca Universit√°ria

## üìã Contexto do Problema

A SavePoint √© uma ludoteca universit√°ria que possibilita a conviv√™ncia e aprendizado por meio de jogos. Centenas de alunos e visitantes passam por l√° toda semana.

### Desafio Principal
Captar e integrar cadastros de visitantes da SavePoint de forma r√°pida, intuitiva e confi√°vel - inclusive crian√ßas e grupos - gerando relat√≥rios de an√°lises.

---

## üîÑ Processo Atual (Forms em Tablets)

1. **Chegada**: Boas-vindas e direcionamento ao tablet
2. **Sele√ß√£o de Perfil**: Usu√°rio seleciona "Aluno/Comunidade/Visitante"
3. **Coleta de Dados**:
   - **Aluno**: RA, interno/externo, interesses (cartas, tabuleiro, quebra-cabe√ßa, videogame, xadrez)
4. **Envio**: Resposta enviada

### Respons√°veis
- Monitores da ludoteca oferecem o tablet para quem chega

---

## üìä Estrutura de Dados

### Dados Coletados no Forms
- RA (para alunos)
- Tipo: Aluno/Comunidade/Visitante
- Status: Interno/Externo
- Interesses: cartas, tabuleiro, quebra-cabe√ßa, videogame, xadrez

### Base TOTVS (Alunos)
- RA (c√≥digo √∫nico)
- Nome
- Sexo
- Data de nascimento
- Idade
- Telefone
- Email
- N√∫mero da Casa
- Bairro
- Cidade
- CEP
- Data de Matr√≠cula
- Polo
- Curso
- Religi√£o
- Per√≠odo Letivo
- Status
- tipo_matricula

### Cruzamento Atual
Manual entre planilha de cadastros e extra√ß√£o do TOTVS

---

## üìà An√°lises Necess√°rias

- **Frequ√™ncia**: por m√™s, por semana, por dia, por dia da semana, por per√≠odo
- **Visitantes √∫nicos** em determinado per√≠odo
- **Perfil demogr√°fico**:
  - Sexo
  - Interno/Externo
  - Cursos
  - Religi√£o
  - Idade

---

## ‚úÖ Requisitos Funcionais

### UX/UI
- [ ] Tela final estimular "enviar outra resposta"
- [ ] Retorno autom√°tico √† tela inicial ap√≥s timeout
- [ ] Feedback evidente (mensagem/vibra√ß√£o)
- [ ] Modo quiosque (full-screen, impedir sair do app)
- [ ] Interface acess√≠vel

### Funcionalidades Especiais
- [ ] Cadastro de crian√ßas (com respons√°vel?)
- [ ] Cadastro de grupos (fam√≠lias/turmas) de uma vez
- [ ] Valida√ß√£o robusta dos campos

### Performance
- [ ] Tempo de cadastro r√°pido
- [ ] Processo √°gil para visitantes recorrentes

### Integra√ß√£o
- [ ] Integra√ß√£o autom√°tica com extra√ß√£o de dados do TOTVS
- [ ] Cruzamento autom√°tico de dados

---

## üí° Solu√ß√£o Proposta: Sistema de ID/QR Code

### Conceito
Sistema de carteirinha digital onde o usu√°rio se cadastra uma vez e recebe um ID com QR Code para entradas futuras.

### Tr√™s N√≠veis de Acesso
1. **Usu√°rio**: Cadastro e visualiza√ß√£o do pr√≥prio QR Code
2. **Monitor**: Escaneamento de QR Codes e registro de entradas
3. **Admin**: An√°lises, relat√≥rios e gerenciamento

### Preocupa√ß√£o Principal
**ATRITO** - Necessidade de balancear:
- Rapidez no cadastro inicial
- Facilidade de uso recorrente
- Qualidade dos dados coletados
- Cruzamento autom√°tico com TOTVS

---

## üîÑ Fluxograma do Sistema

### Fluxo Completo: Do Cadastro √† Sess√£o de Jogo

```mermaid
flowchart TD
    Start([Usu√°rio chega na SavePoint]) --> FirstTime{Primeira<br/>visita?}
    
    FirstTime -->|Sim| Cadastro[Acessa p√°gina de cadastro<br/>HTML/CSS/JavaScript]
    FirstTime -->|N√£o| HasQR[Usu√°rio apresenta<br/>QR Code ao monitor]
    
    Cadastro --> TypeUser{Tipo de<br/>usu√°rio?}
    
    TypeUser -->|Aluno| InputRA[Digita RA]
    TypeUser -->|Visitante/Comunidade| InputData[Preenche:<br/>Nome, Telefone/Email, Tipo]
    
    InputRA --> SearchTOTVS[Sistema busca dados<br/>automaticamente no TOTVS]
    SearchTOTVS --> SelectInterests[Seleciona interesses:<br/>cartas, tabuleiro, etc.]
    
    InputData --> GenerateID[Sistema gera ID √∫nico]
    
    SelectInterests --> GenerateQR[Sistema gera QR Code<br/>personalizado]
    GenerateID --> GenerateQR
    
    GenerateQR --> SendQR[QR Code enviado por<br/>Email/SMS + exibido na tela]
    SendQR --> SaveQR[Usu√°rio salva QR Code<br/>screenshot/email]
    
    SaveQR --> HasQR
    
    HasQR --> MonitorScan[Monitor escaneia QR Code<br/>no tablet em modo quiosque]
    MonitorScan --> SystemCheck{QR Code<br/>v√°lido?}
    
    SystemCheck -->|N√£o| Error[Erro: QR inv√°lido<br/>ou usu√°rio n√£o encontrado]
    SystemCheck -->|Sim| RegisterEntry[Sistema registra entrada:<br/>- Timestamp<br/>- Identifica√ß√£o do usu√°rio<br/>- In√≠cio da sess√£o]
    
    Error --> Retry{Tentar<br/>novamente?}
    Retry -->|Sim| HasQR
    Retry -->|N√£o| Cadastro
    
    RegisterEntry --> Feedback[Feedback visual/sonoro:<br/>‚úì Bem-vindo, Nome!<br/>üéÆ Esta √© sua X¬™ visita!]
    
    Feedback --> PlayGames[Usu√°rio utiliza a ludoteca<br/>e joga]
    
    PlayGames --> End([Sess√£o registrada no sistema])
    
    style Start fill:#e1f5e1
    style End fill:#e1f5e1
    style Cadastro fill:#fff4e1
    style GenerateQR fill:#e1f0ff
    style MonitorScan fill:#ffe1f0
    style RegisterEntry fill:#f0e1ff
    style Feedback fill:#90EE90
    style Error fill:#ffcccc
```

### Tempos Estimados por Fluxo

| Cen√°rio | Tempo Estimado |
|---------|----------------|
| **Aluno - Primeira Visita** | 20-30 segundos |
| **Visitante - Primeira Visita** | 30-40 segundos |
| **Visitas Seguintes (com QR Code)** | 2-3 segundos |
| **Grupo/Turma (20 alunos)** | 10-15 segundos |

### Descri√ß√£o das Etapas

1. **üÜï Cadastro Inicial**
   - Usu√°rio preenche dados m√≠nimos na p√°gina web
   - Sistema valida e busca informa√ß√µes complementares (TOTVS para alunos)
   - Gera QR Code √∫nico e personalizado

2. **üì± Recebimento da Carteirinha Digital**
   - QR Code enviado por email/SMS
   - Usu√°rio pode salvar no celular ou imprimir
   - V√°lido para todas as visitas futuras

3. **‚úÖ Check-in R√°pido**
   - Monitor escaneia QR Code no tablet
   - Sistema identifica usu√°rio instantaneamente
   - Registra entrada com timestamp autom√°tico

4. **üéÆ Sess√£o de Jogo**
   - Entrada registrada no banco de dados
   - Dispon√≠vel para relat√≥rios e an√°lises
   - Hist√≥rico do usu√°rio atualizado

---

## üéØ Problemas a Resolver

### 1. Atrito no Primeiro Cadastro
**Desafio**: Como tornar o cadastro inicial r√°pido sem perder qualidade dos dados?

**Ideias**:
- **Cadastro em 2 etapas**: 
  - Etapa m√≠nima (RA para alunos) ‚Üí gera QR code imediatamente
  - Complemento de dados depois (em casa, via app/web)
- **Auto-preenchimento via RA**: 
  - Aluno digita apenas RA
  - Sistema puxa dados do TOTVS automaticamente
  - Usu√°rio s√≥ confirma e adiciona interesses
- **Cadastro pr√©vio online**:
  - Enviar link antes de visitar
  - Chegar com QR code j√° pronto
- **Escalonamento de dados**:
  - 1¬™ visita: dados m√≠nimos
  - Visitas seguintes: sistema pede dados complementares gradualmente

### 2. Visitantes N√£o-Alunos (Comunidade/Visitantes)
**Desafio**: Como cadastrar rapidamente quem n√£o tem RA?

**Ideias**:
- **Gera√ß√£o de ID pr√≥prio**: Sistema cria ID √∫nico ao cadastrar
- **Cadastro por CPF/Telefone**: Valida√ß√£o e ID √∫nico
- **Op√ß√£o "visitante r√°pido"**:
  - Dados m√≠nimos (nome, tipo)
  - QR code tempor√°rio v√°lido por X dias
  - Incentivo para completar cadastro depois
- **Login social**: Google/Facebook para acelerar (dados j√° preenchidos)

### 3. Cadastro de Crian√ßas
**Desafio**: Crian√ßas podem n√£o ter documentos/RA pr√≥prios

**Ideias**:
- **Vincula√ß√£o ao respons√°vel**:
  - Respons√°vel se cadastra
  - Adiciona dependentes ao perfil
  - Gera QR codes individuais vinculados
- **Cadastro simplificado para crian√ßas**:
  - Nome, idade, respons√°vel
  - Sem email/telefone pr√≥prios
- **QR code familiar**:
  - Um c√≥digo registra entrada de todos
  - Sistema mostra lista para confirmar quem veio

### 4. Cadastro de Grupos
**Desafio**: Turmas/fam√≠lias chegando juntas - evitar cadastrar um por um

**Ideias**:
- **Modo "Grupo"** no app do monitor:
  - Escaneia m√∫ltiplos QR codes em sequ√™ncia r√°pida
  - Confirma√ß√£o em lote
- **QR code de grupo**:
  - Professor/l√≠der tem c√≥digo especial
  - Ao escanear, sistema lista membros do grupo
  - Monitor marca quem est√° presente (checkboxes)
- **Check-in antecipado**:
  - Respons√°vel/professor agenda visita
  - Informa lista de participantes
  - No dia: escaneia QR do grupo ‚Üí todos registrados

### 5. Primeiros Visitantes Sem QR Code
**Desafio**: Pessoa nunca veio antes, n√£o tem QR code

**Ideias**:
- **Cadastro expresso no tablet do monitor**:
  - Monitor seleciona "novo visitante"
  - Formul√°rio ultra-simplificado
  - Envia QR code por email/SMS imediatamente
  - Ou mostra QR na tela para screenshot
- **Modo h√≠brido**:
  - Primeira vez: preenchimento assistido pelo monitor (r√°pido)
  - Sistema j√° gera QR code
  - Pr√≥ximas: s√≥ escaneia
- **Esta√ß√£o de auto-cadastro**:
  - Tablet separado para novos usu√°rios
  - Monitor s√≥ escaneia QR codes (fila r√°pida)
  - Novatos usam outro tablet para se cadastrar

### 6. Integra√ß√£o TOTVS
**Desafio**: Automatizar cruzamento de dados sem processo manual

**Ideias**:
- **API de integra√ß√£o**:
  - Sistema consulta TOTVS em tempo real ao digitar RA
  - Atualiza√ß√£o peri√≥dica (sync noturno) de base local
- **Importa√ß√£o programada**:
  - Cron job di√°rio puxa dados atualizados do TOTVS
  - Mant√©m base local sincronizada
- **Webhook/trigger**:
  - TOTVS notifica sistema quando h√° novos alunos
  - Atualiza√ß√£o incremental

### 7. Feedback e Confirma√ß√£o
**Desafio**: Usu√°rio precisa saber que registrou com sucesso

**Ideias**:
- **Feedback multi-sensorial**:
  - Visual: tela verde com ‚úì, anima√ß√£o
  - Sonoro: "beep" de confirma√ß√£o
  - T√°til: vibra√ß√£o do tablet
- **Mensagem personalizada**:
  - "Bem-vindo de volta, [Nome]!"
  - "Esta √© sua [X]¬™ visita!"
  - Gamifica√ß√£o leve
- **Comprovante digital**:
  - Op√ß√£o de receber email/SMS confirmando entrada
  - √ötil para controle de horas complementares

### 8. Modo Quiosque e Seguran√ßa
**Desafio**: Impedir que usu√°rios saiam do app ou acessem outras fun√ß√µes

**Ideias**:
- **Kiosk mode nativo**:
  - Android: App em modo kiosk (single-app mode)
  - iPad: Guided Access
- **Autentica√ß√£o por NFC/RFID** (alternativa):
  - Carteirinhas f√≠sicas com chip
  - Mais r√°pido que QR code
  - Backup se tablet travar
- **Timeout agressivo**:
  - 5-10 segundos sem a√ß√£o ‚Üí volta ao in√≠cio
  - Previne cadastros abandonados

---

## üèóÔ∏è Arquitetura Sugerida

### Frontend
- **App Monitor** (Tablet - modo quiosque)
  - Escaneamento de QR codes
  - Cadastro r√°pido de novos usu√°rios
  - Offline-first (funciona sem internet)
- **Portal Usu√°rio** (Web/Mobile)
  - Cadastro completo
  - Visualiza√ß√£o do QR code pessoal
  - Hist√≥rico de visitas
- **Dashboard Admin** (Web)
  - Relat√≥rios e an√°lises
  - Gerenciamento de usu√°rios
  - Exporta√ß√£o de dados

### Backend
- API REST
- Banco de dados relacional
- Job de sincroniza√ß√£o com TOTVS
- Sistema de filas para processos ass√≠ncronos

### Integra√ß√µes
- TOTVS (consulta de dados de alunos)
- Email/SMS (envio de QR codes)
- Gerador de QR codes
- Analytics

---

## üéÆ Fluxos Principais

### Fluxo 1: Aluno - Primeira Visita
1. Monitor oferece tablet
2. Usu√°rio digita apenas RA
3. Sistema puxa dados do TOTVS automaticamente
4. Usu√°rio seleciona interesses (checkboxes r√°pidos)
5. Sistema gera QR code
6. QR code enviado por email/SMS + mostrado na tela
7. Entrada registrada automaticamente
8. **Tempo estimado: 20-30 segundos**

### Fluxo 2: Aluno - Visitas Seguintes
1. Monitor escaneia QR code do celular do aluno
2. Sistema registra entrada
3. Feedback visual/sonoro
4. **Tempo estimado: 2-3 segundos**

### Fluxo 3: Visitante Comunidade - Primeira Visita
1. Monitor oferece tablet
2. Usu√°rio preenche: Nome, Telefone/Email, Tipo (comunidade/visitante)
3. Sistema gera QR code e ID √∫nico
4. QR code enviado + mostrado na tela
5. Entrada registrada
6. **Tempo estimado: 30-40 segundos**

### Fluxo 4: Grupo/Turma
1. Professor agenda visita previamente (web)
2. Informa lista de RAs dos alunos
3. Sistema gera QR code de grupo
4. No dia da visita: monitor escaneia QR do grupo
5. Sistema mostra lista de alunos esperados
6. Monitor confirma presentes
7. **Tempo estimado: 10-15 segundos para grupo de 20 alunos**

---

## üì± Stack Tecnol√≥gica Sugerida

### Op√ß√£o 1: Web App (PWA)
- **Frontend**: React/Next.js + TailwindCSS
- **QR Scanner**: html5-qrcode library
- **Backend**: Node.js + Express ou Python + FastAPI
- **Database**: PostgreSQL
- **Vantagens**: Funciona em qualquer tablet, f√°cil atualiza√ß√£o

### Op√ß√£o 2: App Nativo
- **Frontend**: React Native ou Flutter
- **Vantagens**: Melhor controle de modo quiosque, acesso a recursos nativos

### Op√ß√£o 3: H√≠brido
- Web app para admin e usu√°rios
- App nativo para tablets dos monitores

---

## üöÄ MVP - Escopo M√≠nimo

### Funcionalidades Essenciais
1. Cadastro simplificado (RA para alunos)
2. Integra√ß√£o com TOTVS (mesmo que manual inicialmente)
3. Gera√ß√£o de QR codes
4. App de escaneamento para monitores
5. Registro de entradas com timestamp
6. Dashboard b√°sico com m√©tricas principais

### Pode Ficar para v2
- Cadastro de grupos
- Gamifica√ß√£o
- Agendamento de visitas
- App mobile para usu√°rios
- Relat√≥rios avan√ßados
- Integra√ß√£o autom√°tica TOTVS

---

## üìä M√©tricas de Sucesso

- **Tempo m√©dio de cadastro**: < 30 segundos (primeira visita)
- **Tempo m√©dio de check-in**: < 5 segundos (visitas recorrentes)
- **Taxa de retorno**: % de visitantes que voltam
- **Completude de dados**: % de perfis com dados completos
- **Satisfa√ß√£o**: NPS dos monitores e usu√°rios

---

## ‚ö†Ô∏è Riscos e Mitiga√ß√µes

| Risco | Impacto | Mitiga√ß√£o |
|-------|---------|-----------|
| Resist√™ncia dos usu√°rios ao QR code | Alto | Campanha de comunica√ß√£o, benef√≠cios claros |
| Falha de internet no tablet | M√©dio | Modo offline, sincroniza√ß√£o posterior |
| Bateria do celular do usu√°rio acabada | M√©dio | Cadastro r√°pido via RA como fallback |
| TOTVS sem API dispon√≠vel | Alto | Importa√ß√£o manual automatizada (RPA) |
| Tablets roubados/danificados | M√©dio | Backup em nuvem, autentica√ß√£o dos dispositivos |

---

## üìù Pr√≥ximos Passos

1. [ ] Validar solu√ß√£o com stakeholders (administra√ß√£o, monitores, alunos)
2. [ ] Definir stack tecnol√≥gica
3. [ ] Prototipar interface (Figma)
4. [ ] Testar integra√ß√£o TOTVS (viabilidade t√©cnica)
5. [ ] Desenvolver MVP
6. [ ] Teste piloto com grupo pequeno
7. [ ] Itera√ß√£o baseada em feedback
8. [ ] Lan√ßamento oficial

---

## üí≠ Ideias Complementares

### Gamifica√ß√£o
- Badges por quantidade de visitas
- Ranking de frequentadores
- Desafios mensais

### Funcionalidades Sociais
- Check-in compartilh√°vel nas redes sociais
- Indica√ß√£o de amigos (ganha benef√≠cio)

### Intelig√™ncia
- Recomenda√ß√£o de jogos baseada em interesses
- Previs√£o de hor√°rios de pico
- Alertas de lota√ß√£o

### Acessibilidade
- Modo alto contraste
- Suporte a leitores de tela
- Op√ß√£o de texto grande
- M√∫ltiplos idiomas (portugu√™s, ingl√™s, libras via v√≠deo)

---

*Documento criado em: 26/10/2025*
*Vers√£o: 1.0*